{
  "$schema": "http://mule/poc/customerordermanagement/order#",
  "properties": {
    "OrderDetails": {
      "type": "object",
      "properties": {
        "CustomerID": {
          "type": "string"
        },
        "OrderDate": {
          "type": "string"
        },
        "BillingAddress": {
           "address": {
	     	"type": "object",
	     	"required": ["AddrType","Line1", "City", "State","Zip"],
	      	"properties": {
	      		"AddrType": {"type": { "enum": ["Billing","Shipping"]}},
	        	"Line1": { "type": "string" },
	        	"Line2": { "type": "string" },
	        	"City": { "type": "string" },
	        	"State": { "type": "string" },
	        	"Zip": { "type": "string" }
	      	}
	     }
        },
        "ShippingAddress": {
           "address": {
	     	"type": "object",
	     	"required": ["AddrType","Line1", "City", "State","Zip"],
	      	"properties": {
	      		"AddrType": {"type": { "enum": ["Billing","Shipping"]}},
	        	"Line1": { "type": "string" },
	        	"Line2": { "type": "string" },
	        	"City": { "type": "string" },
	        	"State": { "type": "string" },
	        	"Zip": { "type": "string" }
	      	}
	     }
        },
        "ItemDetails": {
          "type": "array",
          "items": [
            {
              "type": "object",
              "properties": {
                "ItemID": {
                  "type": "string"
                },
                "Qty": {
                  "type": "integer"
                },
                "ItemPrice": {
                  "type": "number"
                },
                "Total": {
                  "type": "number"
                }
              }
            }
          ]
        }
      }
    }
  }
}